{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nexport const DOTS = \"...\";\n\nfunction usePagination(props) {\n  _s();\n\n  const [currentPage, setCurrentPage] = useState(props.currentPage);\n  const [pageSize, setPageSize] = useState(props.pageSize);\n  let temp = [];\n  let maxPage = Math.ceil(props.totalCount / props.pageSize);\n  let min = currentPage == maxPage && maxPage != 1 ? maxPage - 2 : Math.max(1, currentPage - 1);\n  let max = Math.min(min + 2, maxPage);\n\n  for (var i = min; i <= max; i++) temp.push(i);\n\n  if (temp[0] > 1) {\n    temp.unshift(1, DOTS);\n  }\n\n  if (temp.at(-1) < maxPage) {\n    temp.push(DOTS, maxPage);\n  }\n\n  const handleActivePage = function (step) {\n    let size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.pageSize;\n    setCurrentPage(prev => {\n      let res = prev + step;\n      if (res < 1) return 1;else if (res > maxPage) return maxPage;else return res;\n    });\n    setPageSize(size);\n  };\n\n  console.log(currentPage);\n  return [temp, handleActivePage];\n}\n\n_s(usePagination, \"goz0u6de8QiWYV2IvtfduQoEM/w=\");\n\nexport default usePagination;","map":{"version":3,"names":["useState","DOTS","usePagination","props","currentPage","setCurrentPage","pageSize","setPageSize","temp","maxPage","Math","ceil","totalCount","min","max","i","push","unshift","at","handleActivePage","step","size","prev","res","console","log"],"sources":["/app/src/hooks/usePagination.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport const DOTS = \"...\";\n\nfunction usePagination(props) {\n  \n  const [currentPage, setCurrentPage] = useState(props.currentPage);\n  const [pageSize, setPageSize] = useState(props.pageSize);\n  \n  let temp = [];\n\n  let maxPage = Math.ceil(props.totalCount/props.pageSize);\n\n  let min = (currentPage == maxPage && maxPage != 1) ? maxPage -2 : Math.max(1, currentPage-1);\n  let max = Math.min(min+2, maxPage);\n  for(var i = min; i <= max; i++) temp.push(i)\n  \n  if(temp[0] > 1){\n    temp.unshift(1, DOTS);\n  }\n  if(temp.at(-1) < maxPage){\n    temp.push(DOTS, maxPage);\n  }\n\n  const handleActivePage = (step, size=props.pageSize) => {\n    setCurrentPage(prev => {\n      let res = prev + step;\n      if( (res) < 1) return 1\n      else if( (res) > maxPage) return maxPage\n      else return res\n    });\n\n    setPageSize(size);\n  }\n\n  console.log(currentPage);\n\n  return [temp, handleActivePage];\n}\n\nexport default usePagination;\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,IAAI,GAAG,KAAb;;AAEP,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;EAAA;;EAE5B,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAACG,KAAK,CAACC,WAAP,CAA9C;EACA,MAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAACG,KAAK,CAACG,QAAP,CAAxC;EAEA,IAAIE,IAAI,GAAG,EAAX;EAEA,IAAIC,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUR,KAAK,CAACS,UAAN,GAAiBT,KAAK,CAACG,QAAjC,CAAd;EAEA,IAAIO,GAAG,GAAIT,WAAW,IAAIK,OAAf,IAA0BA,OAAO,IAAI,CAAtC,GAA2CA,OAAO,GAAE,CAApD,GAAwDC,IAAI,CAACI,GAAL,CAAS,CAAT,EAAYV,WAAW,GAAC,CAAxB,CAAlE;EACA,IAAIU,GAAG,GAAGJ,IAAI,CAACG,GAAL,CAASA,GAAG,GAAC,CAAb,EAAgBJ,OAAhB,CAAV;;EACA,KAAI,IAAIM,CAAC,GAAGF,GAAZ,EAAiBE,CAAC,IAAID,GAAtB,EAA2BC,CAAC,EAA5B,EAAgCP,IAAI,CAACQ,IAAL,CAAUD,CAAV;;EAEhC,IAAGP,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAb,EAAe;IACbA,IAAI,CAACS,OAAL,CAAa,CAAb,EAAgBhB,IAAhB;EACD;;EACD,IAAGO,IAAI,CAACU,EAAL,CAAQ,CAAC,CAAT,IAAcT,OAAjB,EAAyB;IACvBD,IAAI,CAACQ,IAAL,CAAUf,IAAV,EAAgBQ,OAAhB;EACD;;EAED,MAAMU,gBAAgB,GAAG,UAACC,IAAD,EAA+B;IAAA,IAAxBC,IAAwB,uEAAnBlB,KAAK,CAACG,QAAa;IACtDD,cAAc,CAACiB,IAAI,IAAI;MACrB,IAAIC,GAAG,GAAGD,IAAI,GAAGF,IAAjB;MACA,IAAKG,GAAD,GAAQ,CAAZ,EAAe,OAAO,CAAP,CAAf,KACK,IAAKA,GAAD,GAAQd,OAAZ,EAAqB,OAAOA,OAAP,CAArB,KACA,OAAOc,GAAP;IACN,CALa,CAAd;IAOAhB,WAAW,CAACc,IAAD,CAAX;EACD,CATD;;EAWAG,OAAO,CAACC,GAAR,CAAYrB,WAAZ;EAEA,OAAO,CAACI,IAAD,EAAOW,gBAAP,CAAP;AACD;;GAlCQjB,a;;AAoCT,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}