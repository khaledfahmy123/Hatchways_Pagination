{"ast":null,"code":"import { useState } from \"react\";\nexport const DOTS = \"...\";\n\nfunction usePagination(props) {\n  // const [currentPage, setCurrentPage] = useState(props.currentPage);\n  // const [pageSize, setPageSize] = useState(props.pageSize);\n  console.log(props);\n  let temp = [];\n  let maxPage = Math.ceil(props.totalCount / props.pageSize);\n  let min = props.currentPage == maxPage && maxPage != 1 ? maxPage - 2 : Math.max(1, props.currentPage - 1);\n  let max = Math.min(min + 2, maxPage);\n\n  for (var i = min; i <= max; i++) temp.push(i);\n\n  if (temp[0] > 1) {\n    temp.unshift(1, DOTS);\n  }\n\n  if (temp.at(-1) < maxPage) {\n    temp.push(DOTS, maxPage);\n  } // const handleActivePage = (step=0, size=pageSize) => {\n  //   setCurrentPage(prev => {\n  //     let res = prev + step;\n  //     if( (res) < 1) return 1\n  //     else if( (res) > maxPage) return maxPage\n  //     else return res\n  //   });\n  //   setPageSize(size);\n  // }\n\n\n  console.log(props.currentPage);\n  return temp;\n}\n\nexport default usePagination;","map":{"version":3,"names":["useState","DOTS","usePagination","props","console","log","temp","maxPage","Math","ceil","totalCount","pageSize","min","currentPage","max","i","push","unshift","at"],"sources":["/app/src/hooks/usePagination.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport const DOTS = \"...\";\n\nfunction usePagination(props) {\n  \n  // const [currentPage, setCurrentPage] = useState(props.currentPage);\n  // const [pageSize, setPageSize] = useState(props.pageSize);\n  console.log(props);\n  let temp = [];\n\n  let maxPage = Math.ceil(props.totalCount/props.pageSize);\n\n  let min = (props.currentPage == maxPage && maxPage != 1) ? maxPage -2 : Math.max(1, props.currentPage-1);\n  let max = Math.min(min+2, maxPage);\n  for(var i = min; i <= max; i++) temp.push(i)\n  \n  if(temp[0] > 1){\n    temp.unshift(1, DOTS);\n  }\n  if(temp.at(-1) < maxPage){\n    temp.push(DOTS, maxPage);\n  }\n\n  // const handleActivePage = (step=0, size=pageSize) => {\n  //   setCurrentPage(prev => {\n  //     let res = prev + step;\n  //     if( (res) < 1) return 1\n  //     else if( (res) > maxPage) return maxPage\n  //     else return res\n  //   });\n\n  //   setPageSize(size);\n  // }\n\n  console.log(props.currentPage);\n\n  return temp;\n}\n\nexport default usePagination;\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,IAAI,GAAG,KAAb;;AAEP,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;EAE5B;EACA;EACAC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACA,IAAIG,IAAI,GAAG,EAAX;EAEA,IAAIC,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUN,KAAK,CAACO,UAAN,GAAiBP,KAAK,CAACQ,QAAjC,CAAd;EAEA,IAAIC,GAAG,GAAIT,KAAK,CAACU,WAAN,IAAqBN,OAArB,IAAgCA,OAAO,IAAI,CAA5C,GAAiDA,OAAO,GAAE,CAA1D,GAA8DC,IAAI,CAACM,GAAL,CAAS,CAAT,EAAYX,KAAK,CAACU,WAAN,GAAkB,CAA9B,CAAxE;EACA,IAAIC,GAAG,GAAGN,IAAI,CAACI,GAAL,CAASA,GAAG,GAAC,CAAb,EAAgBL,OAAhB,CAAV;;EACA,KAAI,IAAIQ,CAAC,GAAGH,GAAZ,EAAiBG,CAAC,IAAID,GAAtB,EAA2BC,CAAC,EAA5B,EAAgCT,IAAI,CAACU,IAAL,CAAUD,CAAV;;EAEhC,IAAGT,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAb,EAAe;IACbA,IAAI,CAACW,OAAL,CAAa,CAAb,EAAgBhB,IAAhB;EACD;;EACD,IAAGK,IAAI,CAACY,EAAL,CAAQ,CAAC,CAAT,IAAcX,OAAjB,EAAyB;IACvBD,IAAI,CAACU,IAAL,CAAUf,IAAV,EAAgBM,OAAhB;EACD,CAlB2B,CAoB5B;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;;;EAEAH,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACU,WAAlB;EAEA,OAAOP,IAAP;AACD;;AAED,eAAeJ,aAAf"},"metadata":{},"sourceType":"module"}